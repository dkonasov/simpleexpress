var simpleexpressControllers=angular.module("simpleexpressControllers",[]);simpleexpressControllers.controller("IndexController",["$scope","$http","Articles",function(e,t,a){e.sort={title:1},e.pageSize=10,e.currentPage=1,e.paginator={skip:(e.currentPage-1)*e.pageSize,limit:e.pageSize},e.totalPages=1,e.articles=a.query({sort:e.sort,paginator:e.paginator},function(t,a){var r=parseInt(a("TotalElements"));e.totalPages=Math.ceil(r/e.pageSize)}),e.article={},e.goToPage=function(t){e.currentPage=t,e.paginator={skip:(e.currentPage-1)*e.pageSize,limit:e.pageSize},e.articles=a.query({sort:e.sort,paginator:e.paginator},function(t,a){var r=parseInt(a("TotalElements"));e.totalPages=Math.ceil(r/e.pageSize)})},e.clearArticle=function(){e.article={}},e["delete"]=function(t){e.article={},t&&a["delete"]({id:t},function(){e.articles=a.query({sort:e.sort,paginator:e.paginator},function(t,a){var r=parseInt(a("TotalElements"));e.totalPages=Math.ceil(r/e.pageSize),$("#deletePrompt").modal("hide")})})},e.deletePrompt=function(t){e.article=t,$("#deletePrompt").modal("show")},e.save=function(t){t?(a.save({id:t,article:e.article},function(){e.article={},e.articles=a.query({sort:e.sort,paginator:e.paginator},function(t,a){var r=parseInt(a("TotalElements"));e.totalPages=Math.ceil(r/e.pageSize)}),$("#addArticle").modal("hide")}),console.log("Modify article. To be coded.")):a.save(e.article,function(){e.articles=a.query({sort:e.sort,paginator:e.paginator},function(t,a){var r=parseInt(a("TotalElements"));e.totalPages=Math.ceil(r/e.pageSize)}),e.article={},$("#addArticle").modal("hide")})},e.modifyPrompt=function(t){for(var a in t)e.article[a]=t[a];$("#addArticle").modal("show")},e.view=function(t){e.article=a.get({id:t},function(){$("#viewArticle").modal("show")})}}]);