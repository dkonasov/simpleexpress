var simpleexpressControllers=angular.module("simpleexpressControllers",[]);simpleexpressControllers.controller("IndexController",["$scope","$http","Articles",function(t,e,a){console.log("4ever"),t.sort={title:1},t.sortingParams={field:"title",direction:1},t.testDate="",t.pageSize=10,t.currentPage=1,t.paginator={skip:(t.currentPage-1)*t.pageSize,limit:t.pageSize},t.totalPages=1,t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize)}),t.article={},t.$watch("sortingParams",function(e,r){e!==r&&(t.sort={},t.sort[e.field]=e.direction,t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize)}))},!0),t.changeSortDirection=function(){t.sortingParams.direction=0-t.sortingParams.direction},t.goToPage=function(e){t.currentPage=e,t.paginator={skip:(t.currentPage-1)*t.pageSize,limit:t.pageSize},t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize)})},t.clearArticle=function(){t.article={}},t["delete"]=function(e){t.article={},e&&a["delete"]({id:e},function(){t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize),$("#deletePrompt").modal("hide")})})},t.deletePrompt=function(e){t.article=e,$("#deletePrompt").modal("show")},t.save=function(e){e?a.save({id:e,article:t.article},function(){t.article={},t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize)}),$("#addArticle").modal("hide")}):a.save(t.article,function(){t.articles=a.query({sort:t.sort,paginator:t.paginator},function(e,a){var r=parseInt(a("TotalElements"));t.totalPages=Math.ceil(r/t.pageSize)}),t.article={},$("#addArticle").modal("hide")})},t.modifyPrompt=function(e){for(var a in e)t.article[a]=e[a];$("#addArticle").modal("show")},t.view=function(e){t.article=a.get({id:e},function(){$("#viewArticle").modal("show")})}}]);